<!DOCTYPE html>
<html lang="en-US">
   <head>
      <meta charset="UTF-8">
      <meta name="viewport" content="width=device-width, initial-scale=1.0" />
      <title>My Wonderland!</title>
      <link rel="stylesheet" href="css/components.css">
      <link rel="stylesheet" href="css/icons.css">
      <link rel="stylesheet" href="css/responsee.css">
      <link rel="stylesheet" href="owl-carousel/owl.carousel.css">
      <link rel="stylesheet" href="owl-carousel/owl.theme.css">
      <!-- CUSTOM STYLE -->
      <link rel="stylesheet" href="css/template-style.css">
      <link href='https://fonts.googleapis.com/css?family=Roboto:400,100,300,700&subset=latin,latin-ext' rel='stylesheet' type='text/css'>  
      <script type="text/javascript" src="js/jquery-1.8.3.min.js"></script>
      <script type="text/javascript" src="js/jquery-ui.min.js"></script>    
   </head>

   <body class="size-1280 slide-to-right">
      <a href="index.html"><img class="logo" src="img/logo.svg"></a>
      
      <nav class="slide-nav aside-nav">
        <ul>
           <li><a href="index.html">Home</a></li>
        </ul>      
      </nav> 
          
      <div class="slide-content">  
        <section id="right-content" class="s-12 m-10 l-8 xl-7 xxl-6 right">

              <div class="line">
                 <h3>My Wonderland 詞句組合</h3>
                  <div>
                    <label for="tid">桌號:<br></label>
                    <input type="text" id="tid">
                    <br>
                    <br>
                    <label for="userid">優勝者:<br></label>
                    <input type="text" id="userid">
                    <br>
                    <br>
                    <label for="attraction">景點名稱:<br></label>
                    <input type="text" id="attraction">
                    <br>
                    <br>
                    <label for="cardlist">詞卡編號(以,隔開):<br></label>
                    <input type="text" id="cardlist">
                    <br>
                    <br>

                    <button onclick="mySentence()">詞句生成</button>
                    
                  </div>
                  <br>
                  <br>
                  <form method='POST' action='https://script.google.com/macros/s/AKfycbyUH_dIn_E8igguUcnKXoEKcYGx2ZZcJioU4fQziqbGHBr7EcwVsaxBszOp1sCsZGAw/exec'>
                  <textarea rows="6" cols="30" name="msg" id="msg"></textarea><br>
                  

                  <input type="submit" />
                </form>
              </div>
              
        </section>
      </div>
      
      <!-- FOOTER -->
      <footer>
         <p><b>靜宜大學觀光事業學系</b></p>
         <p>王錦裕老師製作</p>
      </footer>
      
      <!-- BACKGROUND CAROUSEL --> 
           <div id="background-carousel">
              <div class="owl-carousel owl-theme">
                 <div class="item" style="background-image: url(img/back-1.jpg)"></div>
                 <div class="item" style="background-image: url(img/back-2.jpg)"></div>
                 <div class="item" style="background-image: url(img/back-3.jpg)"></div>
              </div>
           </div>
           
           
      <script type="text/javascript" src="js/responsee.js"></script>
      <script type="text/javascript" src="owl-carousel/owl.carousel.js"></script>
      <script type="text/javascript">
        jQuery(document).ready(function($) {
          var owl = $('#background-carousel .owl-carousel');
          owl.owlCarousel({
            nav: false,
            dots: false,
            items: 1,
            loop: true,
            animateOut: 'fadeOut',
            autoplay: true,
            autoplayTimeout: 4000
          });
        })
      </script>

      <script>

       function mySentence() {
         const cardlist = document.getElementById('cardlist').value;
         if (cardlist) {

           cardlist = cardlist.replace(/，/g, ",");
           var card=[  '壯觀的','夕陽西下的','迷人的','雄偉的','碧綠的','蔚藍的','多彩多姿的','高聳的',
                       '繁花似錦的','璀璨奪目的','一望無際的','魅力四射的',
                       '荒涼的','垃圾滿地的','一片混亂的','空氣污染的','黑白風格的','雜草叢生的','黯淡無光的','大火焚燒過的',
                       '山脈','河川','湖泊','瀑布','天空','星夜','雲朵','陽光','樹木','花朵',
                       '建築物','天際線','輕舟','飛鳥','晚霞'
                    ];

           const tid = document.getElementById('tid');
           const userid = document.getElementById('userid');
           

           const attraction = document.getElementById('attraction');
           const msg = document.getElementById('msg');
           msg.value = "";
           
           try{
               var t1="";
               var t2="";
               var arr = cardlist.split(",");
               for(var i=0; i<arr.length; i++)
               {
                   var d=parseInt(arr[i]);
                   if(d>=1 && d<=20)
                   {
                       d--;
                       t1 += card[d] + "、";
                   }
                   else if(d>=21 && d<=35)
                   {
                       d--;
                       t2 += card[d] + "、";
                   }
               }

               if(t1.length>1) t1=t1.substring(0,t1.length-1);
               if(t2.length>1) t2="，畫面中的元素包含" + t2.substring(0,t2.length-1);
               
               msg.value = "\n桌號：" + tid.value + "\n優勝者：" + userid.value + "\n\n一幅" + t1 + attraction.value + "景色" + t2 + "。";
           }
           catch
           {
                 msg.value = "發生錯誤!";
           }

         }

       }


    
    </script>
   </body>
</html>